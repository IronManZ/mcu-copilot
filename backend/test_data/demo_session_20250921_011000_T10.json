{
  "test_case": {
    "id": "T10",
    "level": "困难",
    "requirement": "数码管显示系统：按键P12增加计数(0-99)，按键P13减少计数，数码管实时显示当前值，支持按键防抖和数码管查表显示",
    "expected_features": [
      "数码管驱动",
      "双按键处理",
      "防抖算法",
      "查表显示",
      "完整交互系统"
    ]
  },
  "timestamp": "2025-09-21T01:20:00.000000",
  "session_name": "demo_session_20250921_011000",
  "success": true,
  "duration": 28.5,
  "response": {
    "thought": "思考过程：\\n\\n这是一个复杂的数码管显示系统，需要实现：\\n1. 双按键处理（P12增加，P13减少）\\n2. 按键防抖处理\\n3. 计数范围控制（0-99）\\n4. 数码管查表显示\\n5. 实时更新显示\\n\\n系统架构：\\n- 按键扫描模块：检测按键状态变化\\n- 防抖处理：避免按键抖动\\n- 计数控制：维护0-99范围\\n- 显示驱动：数码管字符编码查表\\n\\n数码管编码表：0-9对应的段码",
    "assembly": "DATA\\n    COUNTER       0      ; 当前计数值(0-99)\\n    KEY12_STATE   1      ; P12按键状态\\n    KEY13_STATE   2      ; P13按键状态\\n    KEY12_OLD     3      ; P12上次状态\\n    KEY13_OLD     4      ; P13上次状态\\n    DEBOUNCE_12   5      ; P12防抖计数\\n    DEBOUNCE_13   6      ; P13防抖计数\\n    DISPLAY_CODE  7      ; 当前显示码\\n    IOSET0        49\\n    IO            51\\nENDDATA\\n\\nCODE\\n    LDINS 0x3000         ; 配置P12,P13为输入\\n    NOT\\n    AND IOSET0           ; 其他位为输出\\n    ST IOSET0\\n    CLR\\n    ST COUNTER           ; 初始化计数为0\\n    ST KEY12_OLD\\n    ST KEY13_OLD\\n\\nMAIN_LOOP:\\n    ; 读取按键状态\\n    LD IO\\n    LDINS 0x1000\\n    AND IO\\n    ST KEY12_STATE       ; P12状态\\n    LD IO\\n    LDINS 0x2000\\n    AND IO\\n    ST KEY13_STATE       ; P13状态\\n\\n    ; P12按键处理\\n    LD KEY12_STATE\\n    LD KEY12_OLD\\n    SUB KEY12_OLD\\n    JZ CHECK_KEY13       ; 状态无变化\\n    LD KEY12_STATE\\n    JZ KEY12_PRESSED     ; 按下\\n    CLR\\n    ST DEBOUNCE_12       ; 松开，清除防抖\\n    JUMP UPDATE_KEY12\\nKEY12_PRESSED:\\n    LD DEBOUNCE_12\\n    INC\\n    LDINS 10             ; 防抖阈值\\n    SUB DEBOUNCE_12\\n    JZ INCREMENT         ; 防抖通过，执行增加\\n    ST DEBOUNCE_12\\nUPDATE_KEY12:\\n    LD KEY12_STATE\\n    ST KEY12_OLD\\n\\nCHECK_KEY13:\\n    ; P13按键处理（类似P12）\\n    LD KEY13_STATE\\n    LD KEY13_OLD\\n    SUB KEY13_OLD\\n    JZ UPDATE_DISPLAY\\n    LD KEY13_STATE\\n    JZ KEY13_PRESSED\\n    CLR\\n    ST DEBOUNCE_13\\n    JUMP UPDATE_KEY13\\nKEY13_PRESSED:\\n    LD DEBOUNCE_13\\n    INC\\n    LDINS 10\\n    SUB DEBOUNCE_13\\n    JZ DECREMENT\\n    ST DEBOUNCE_13\\nUPDATE_KEY13:\\n    LD KEY13_STATE\\n    ST KEY13_OLD\\n\\nINCREMENT:\\n    LD COUNTER\\n    INC\\n    LDINS 100            ; 上限检查\\n    SUB COUNTER\\n    JZ RESET_TO_ZERO\\n    ST COUNTER\\n    CLR\\n    ST DEBOUNCE_12\\n    JUMP UPDATE_DISPLAY\\nRESET_TO_ZERO:\\n    CLR\\n    ST COUNTER\\n    ST DEBOUNCE_12\\n    JUMP UPDATE_DISPLAY\\n\\nDECREMENT:\\n    LD COUNTER\\n    JZ SET_TO_99         ; 下限检查\\n    DEC\\n    ST COUNTER\\n    CLR\\n    ST DEBOUNCE_13\\n    JUMP UPDATE_DISPLAY\\nSET_TO_99:\\n    LDINS 99\\n    ST COUNTER\\n    CLR\\n    ST DEBOUNCE_13\\n\\nUPDATE_DISPLAY:\\n    ; 数码管显示\\n    LDTAB DIGIT_TABLE\\n    ADD COUNTER\\n    MOVC\\n    ST DISPLAY_CODE\\n    ST IO                ; 输出到数码管\\n    JUMP MAIN_LOOP\\n\\nDIGIT_TABLE:\\n    DB 0x3F              ; 数字0: 0011 1111\\n    DB 0x06              ; 数字1: 0000 0110\\n    DB 0x5B              ; 数字2: 0101 1011\\n    DB 0x4F              ; 数字3: 0100 1111\\n    DB 0x66              ; 数字4: 0110 0110\\n    DB 0x6D              ; 数字5: 0110 1101\\n    DB 0x7D              ; 数字6: 0111 1101\\n    DB 0x07              ; 数字7: 0000 0111\\n    DB 0x7F              ; 数字8: 0111 1111\\n    DB 0x6F              ; 数字9: 0110 1111\\n\\nENDCODE",
    "machine_code": [
      "385",
      "000",
      "0C3",
      "133",
      "231",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001",
      "380",
      "001"
    ],
    "compile_error": null
  },
  "analysis": {
    "score": 98,
    "quality_check": {
      "has_data_section": true,
      "has_code_section": true,
      "uses_ldins": true,
      "has_comments": true,
      "uppercase_style": true
    }
  }
}